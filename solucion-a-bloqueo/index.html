<!doctype html><html lang=es-mx>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Solución a "Bloqueo" | omegaUp blog</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content="Concurso: Preselectivo para la IOI 2014, Etapa 1, Problemset 8 Autor: Khayyam Fuente: Khayyam
La primera observación que hay que hacer es que si todas las carreteras son bidireccionales y entre cada par de ciudades existe exactamente un camino que las conecta (usando una o mas carreteras) entonces la representación gráfica del problema es un árbol: los nodos representan las ciudades y las aristas representan las carreteras. La siguiente figura, muestra el árbol que representa el caso de prueba dado como ejemplo.">
<meta name=generator content="Hugo 0.92.0">
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel=stylesheet href=/ananke/css/main.min.css>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Libre+Franklin%3A300%2C300i%2C400%2C400i%2C600%2C600i%2C800%2C800i&amp;#038;subset=latin%2Clatin-ext">
<link rel=stylesheet href=/css/styles.css>
<meta property="og:title" content="Solución a &#34;Bloqueo&#34;">
<meta property="og:description" content="Concurso: Preselectivo para la IOI 2014, Etapa 1, Problemset 8 Autor: Khayyam Fuente: Khayyam
La primera observación que hay que hacer es que si todas las carreteras son bidireccionales y entre cada par de ciudades existe exactamente un camino que las conecta (usando una o mas carreteras) entonces la representación gráfica del problema es un árbol: los nodos representan las ciudades y las aristas representan las carreteras. La siguiente figura, muestra el árbol que representa el caso de prueba dado como ejemplo.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blogv2.omegaup.com/solucion-a-bloqueo/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2013-09-10T19:35:59+00:00">
<meta property="article:modified_time" content="2013-09-10T19:35:59+00:00">
<meta itemprop=name content="Solución a &#34;Bloqueo&#34;">
<meta itemprop=description content="Concurso: Preselectivo para la IOI 2014, Etapa 1, Problemset 8 Autor: Khayyam Fuente: Khayyam
La primera observación que hay que hacer es que si todas las carreteras son bidireccionales y entre cada par de ciudades existe exactamente un camino que las conecta (usando una o mas carreteras) entonces la representación gráfica del problema es un árbol: los nodos representan las ciudades y las aristas representan las carreteras. La siguiente figura, muestra el árbol que representa el caso de prueba dado como ejemplo."><meta itemprop=datePublished content="2013-09-10T19:35:59+00:00">
<meta itemprop=dateModified content="2013-09-10T19:35:59+00:00">
<meta itemprop=wordCount content="828">
<meta itemprop=keywords content="Bloqueo,Etapa 1,Examen 8,Khayyam,preselectivo,solución,Soluciones Preselectivo 2014,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Solución a &#34;Bloqueo&#34;">
<meta name=twitter:description content="Concurso: Preselectivo para la IOI 2014, Etapa 1, Problemset 8 Autor: Khayyam Fuente: Khayyam
La primera observación que hay que hacer es que si todas las carreteras son bidireccionales y entre cada par de ciudades existe exactamente un camino que las conecta (usando una o mas carreteras) entonces la representación gráfica del problema es un árbol: los nodos representan las ciudades y las aristas representan las carreteras. La siguiente figura, muestra el árbol que representa el caso de prueba dado como ejemplo.">
</head>
<body class="ma0 bg-near-white">
<header class=bg-top style=background-image:url(https://blogv2.omegaup.com/images/cover.jpeg)>
<div class="pv3 bg-black-60">
<nav class="pv4 ph3 ph4-ns" role=navigation>
<div class="mw8 center">
<h1>
<a href=/ class="hover-white no-underline white-90 dib">
omegaUp blog
</a>
</h1>
<h2>Incrementando el talento de Ingeniería de Software en América Latina</h2>
<div class="flex-l justify-between items-center center">
<div class="flex-l items-center">
<div class=ananke-socials>
</div>
</div>
</div>
</div>
</nav>
</div>
</header>
<header class="bg-black-90 sticky w-100 ph3 pv3 pv4-ns ph4-m ph5-l z-1">
<nav class="f6 fw6 ttu tracked">
<a class="link dim white dib mr3" href=/ title=Inicio>Inicio</a>
<a class="link dim white dib mr3" href=/search/ title=Búsqueda>Búsqueda</a>
<a class="link dim white dib" href=https://omegaup.org/ title="Acerca de">Acerca de</a>
</nav>
</header>
<main class=pb7 role=main>
<article class="flex-l flex-wrap justify-between mw8 center ph3">
<header class="mt4 w-100">
<aside class="instapaper_ignoref b helvetica tracked">
POSTS
</aside>
<div id=sharing class="mt3 ananke-socials">
</div>
<p class="tracked p0 mb0">
<time class="f6 dib tracked" datetime=2013-09-10T19:35:59Z>September 10, 2013</time>
Por <strong>
Freddy
</strong>
</p>
<h1 class="f2 pv2 mv1">Solución a "Bloqueo"</h1>
</header>
<div class="nested-copy-line-height lh-copy sans-serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p><strong>Concurso:</strong> <a href=https://omegaup.com/arena/problem/bloqueo>Preselectivo para la IOI 2014, Etapa 1, Problemset 8</a> <strong>Autor:</strong> <a href=http://www.cimat.mx/~omar>Khayyam</a> <strong>Fuente</strong>: Khayyam</p>
<p>La primera observación que hay que hacer es que si todas las carreteras son bidireccionales y entre cada par de ciudades existe exactamente un camino que las conecta (usando una o mas carreteras) entonces la representación gráfica del problema es un árbol: los nodos representan las ciudades y las aristas representan las carreteras. La siguiente figura, muestra el árbol que representa el caso de prueba dado como ejemplo. Los nodos rojos representan las ciudades ocupadas, el esfuerzo necesario para destruir cada carretera se muestra junto a la arista correspondiente. Entonces queremos eliminar un subconjunto de aristas de peso total mínimo de tal forma que los nodos rojos queden separados.</p>
<p>Caso de ejemplo</p>
<p>Solución</p>
<p><img src=/images/example.png alt></p>
<p><img src=/images/example_solution.png alt></p>
<p>En problemas relacionados con árboles, es muy natural tratar de dividir el problema en problemas más pequeños que están dados por los sub-árboles del árbol original. Esto además sugiere usar recursión: &ldquo;para resolver un árbol, primero resolvemos recursivamente sus sub-árboles y luego combinamos las sub-soluciones&rdquo;.</p>
<p>Comencemos con los casos sencillos. Si hay solamente un nodo (el árbol tiene altura 0), entonces no habrá aristas y el esfuerzo total necesario es cero.</p>
<p>Consideremos ahora un árbol de altura 1 como el de la siguiente figura. Como la raiz no es roja, basta con eliminar una de las dos aristas: elegimos la que requiera menos esfuerzo.</p>
<p>Caso sencillo: altura 1</p>
<p>Solución (suponemos que la arista izquierda requiere menos esfuerzo)</p>
<p><img src=/images/simple0.jpg alt></p>
<p><img src=/images/simple1.jpg alt></p>
<p>Si la raiz fuera roja, entonces tendríamos que eliminar ambas aristas. Con lo anterior nos damos cuenta de que hay dos casos que debemos considerar:</p>
<ol>
<li>Si la raiz es roja, entonces <strong>debemos</strong> eliminar <strong>todas</strong> las aristas que la conectan con nodos rojos</li>
<li>Si la raiz no es roja, entonces no es necesario desconectar la raíz de todos los nodos rojos: la solución óptima es dejar conectado el nodo rojo asociado a la arista mas costosa.</li>
</ol>
<p>Lo anterior se ilustra en la siguiente figura (aquí suponemos que la arista de la derecha es la mas costosa de todas):</p>
<p>Si la raiz es roja, entonces <strong>debemos</strong> eliminar <strong>todas</strong> las aristas que la conectan con nodos rojos</p>
<p>Si la raiz no es roja, entonces no es necesario desconectar la raíz de todos los nodos rojos</p>
<p><img src=/images/redRootAllRed.png alt></p>
<p><img src=/images/whiteRootAllRed.png alt></p>
<p>Ahora que tenemos la solución para los casos pequeños, veamos si podemos usar estas soluciones para construir la solución del problema general, como en la siguiente figura.</p>
<p>Si la raiz es roja y el nodo blanco está conectado<br>
a algun descendiente rojo, la solución ya no es correcta</p>
<p>Aún si la raiz es blanca, no podemos dejar conectado el nodo blanco<br>
ya que si está conectado con un descendiente rojo, la solución sería incorrecta</p>
<p><img src=/images/redRootAllRed_cloud.png alt></p>
<p><img src=/images/whiteRootAllRed_cloud.png alt></p>
<p>Supongamos que ya tenemos la solución para todos los hijos directos de la raíz, es decir, que ya cortamos de manera óptima las aristas de todos los subárboles, de modo que ningún par de nodos rojos se conectan en el sub-árbol. Usando sólo esta información, ¿podemos construir la solución del problema general?. Desafortunadamente, esto no es suficiente: nos gustaría dejar conectados a los hijos blancos, pero si existe un nodo rojo debajo de ellos, entonces tendríamos que desconectarlo también. Lo que necesitamos saber es precisamente si un hijo blanco está conectado con uno de sus descendientes rojos, de ser así diremos que el nodo blanco es &ldquo;peligroso&rdquo;. Si el nodo blanco está desconectado de todos sus descendientes rojos, entonces diremos que es &ldquo;seguro&rdquo;. Entonces tenemos tres tipos de nodos: ocupados, peligrosos y seguros, que representamos como nodos rojos, amarillos y verdes, respectivamente.Con este nuevo concepto, vemos que tenemos dos tipos de soluciones distintas para una raíz blanca: tenemos soluciones peligrosas y soluciones seguras. Es fácil ver que no existen &ldquo;hojas peligrosas&rdquo;, ya que las hojas están ocupadas (rojas) o son seguras (verdes).</p>
<p><img src=/images/redRootOneGreen.png alt></p>
<p><img src=/images/yellowRootAllRed.png alt></p>
<p><img src=/images/greenRootAllRed.png alt></p>
<p>Reformulemos nuestra solución con este concepto. Si la raíz es roja, entonces debemos desconectarla de todos sus hijos rojos y de todos sus hijos peligrosos. Esto significa que para cada hijo blanco tenemos dos opciones:</p>
<ul>
<li>Hacer que el hijo sea seguro (verde) y no cortar la arista que lo une con la raíz (puede ser costoso hacerlo seguro, pero con eso nos ahorramos el costo de separarlo de la raíz)</li>
<li>Hacer que el hijo sea peligroso (amarillo) y cortar la arista que lo une con la raíz (puede ser barato dejarlo inseguro, pero pagamos al separarlo de la raíz)</li>
</ul>
<p>Lo anterior resuelve el caso en que la raíz es roja.</p>
<p>Ahora, si la raíz no es roja, debemos calcular dos soluciones: la solución segura (dejar la raíz verde) y la solución peligrosa (dejar la raíz amarilla). Notemos que la solución segura es exactamente igual al caso anterior. Por otro lado, para la solución peligrosa, debemos dejar la raíz conectada a exactamente un hijo que sea rojo o peligroso. Para elegir cuál de todos los hijos rojos o peligrosos dejaremos conectado, basta iterar sobre todos los hijos y elegir la mejor opción. El código queda como sigue:</p>
<script type=application/javascript src=https://gist.github.com/OlimpiadaMexicanadeInformatica/6559253.js></script>
<ul class=pa0>
<li class=list>
<a href=/tags/bloqueo class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Bloqueo</a>
</li>
<li class=list>
<a href=/tags/etapa-1 class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Etapa 1</a>
</li>
<li class=list>
<a href=/tags/examen-8 class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Examen 8</a>
</li>
<li class=list>
<a href=/tags/khayyam class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Khayyam</a>
</li>
<li class=list>
<a href=/tags/preselectivo class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">preselectivo</a>
</li>
<li class=list>
<a href=/tags/soluci%C3%B3n class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">solución</a>
</li>
<li class=list>
<a href=/tags/soluciones-preselectivo-2014 class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Soluciones Preselectivo 2014</a>
</li>
</ul>
<div class="mt6 instapaper_ignoref">
</div>
</div>
<aside class="w-30-l mt6-l">
<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
<p class="f5 b mb3">Related</p>
<ul class="pa0 list">
<li class=mb2>
<a href=/solucion-a-la-venganza-de-silvio/>Solución a "La Venganza de Silvio"</a>
</li>
<li class=mb2>
<a href=/solucion-a-los-bloques-de-link/>Solución a "Los Bloques de Link"</a>
</li>
<li class=mb2>
<a href=/solucion-a-cueva/>Solución a "Cueva"</a>
</li>
<li class=mb2>
<a href=/solucion-a-chilly-rapero/>Solución a "Chilly Rapero"</a>
</li>
<li class=mb2>
<a href=/solucion-a-cambio/>Solución a "Cambio"</a>
</li>
<li class=mb2>
<a href=/solucion-a-minecraft/>Solución a "Minecraft"</a>
</li>
<li class=mb2>
<a href=/solucion-a-metro/>Solución a "Metro"</a>
</li>
<li class=mb2>
<a href=/162/>Solución a "Pulseras"</a>
</li>
<li class=mb2>
<a href=/solucion-a-problema/>Solución a "Problema"</a>
</li>
<li class=mb2>
<a href=/solucion-a-alfiles/>Solución a "Alfiles"</a>
</li>
<li class=mb2>
<a href=/solucion-a-mario-reloaded/>Solución a "Mario Reloaded"</a>
</li>
<li class=mb2>
<a href=/solucion-a-el-collar-de-perlas/>Solución a "El collar de perlas"</a>
</li>
<li class=mb2>
<a href=/solucion-a-las-cartas-del-dr-lira/>Solución a Las Cartas del Dr. Lira</a>
</li>
<li class=mb2>
<a href=/engranes-khayyam-solucion-enrique-lira/>Solución a "Engranes"</a>
</li>
<li class=mb2>
<a href=/solucion-a-k-arbol/>Solución a "K-Arbol"</a>
</li>
</ul>
</div>
</aside>
</article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://blogv2.omegaup.com/>
&copy; omegaUp blog 2022
</a>
<div>
<div class=ananke-socials>
</div></div>
</div>
</footer>
<script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['$latex', '$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\[','\]']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      ignoreClass: 'gist',
      TeX: {
        equationNumbers: { autoNumber: "AMS" },
        extensions: ["AMSmath.js", "AMSsymbols.js"],
      },
   },
 });
</script>
</body>
</html>