<!doctype html><html lang=es-mx>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Soluciones de la Fase 1 de la Liga de Programación omegaUp | omegaUp blog</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content="Problema A  Para este problema, consideramos un arreglo de ocurrencias $O$ sobre los elementos del arreglo. De modo que la respuesta está dada por
$\sum\limits_{i=A}^B O_{i}$
[gist id=&ldquo;df979afcf721ba5aee429f948350e051&rdquo; file=&ldquo;A.cpp&rdquo;]
 Problema B  Si consideramos el mismo arreglo de ocurrencias $O$ sobre los elementos del arreglo, la respuesta está dada por $O_k$.
[gist id=&ldquo;2380189d0e29c2e29ab52771f353ebbe&rdquo; file=&ldquo;B.cpp&rdquo;]
 Problema C  Podemos generar todos los elementos de la secuencia de Fibonacci hasta $30000$, y guardarlos en un mapa $M$, de modo que $M_k = 1$ si $k$ es un elemento de Fibonnaci, y $M_k = 0$ en caso contrario.">
<meta name=generator content="Hugo 0.92.0">
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel=stylesheet href=/ananke/css/main.min.css>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Libre+Franklin%3A300%2C300i%2C400%2C400i%2C600%2C600i%2C800%2C800i&amp;#038;subset=latin%2Clatin-ext">
<link rel=stylesheet href=/css/styles.css>
<meta property="og:title" content="Soluciones de la Fase 1 de la Liga de Programación omegaUp">
<meta property="og:description" content="Problema A  Para este problema, consideramos un arreglo de ocurrencias $O$ sobre los elementos del arreglo. De modo que la respuesta está dada por
$\sum\limits_{i=A}^B O_{i}$
[gist id=&ldquo;df979afcf721ba5aee429f948350e051&rdquo; file=&ldquo;A.cpp&rdquo;]
 Problema B  Si consideramos el mismo arreglo de ocurrencias $O$ sobre los elementos del arreglo, la respuesta está dada por $O_k$.
[gist id=&ldquo;2380189d0e29c2e29ab52771f353ebbe&rdquo; file=&ldquo;B.cpp&rdquo;]
 Problema C  Podemos generar todos los elementos de la secuencia de Fibonacci hasta $30000$, y guardarlos en un mapa $M$, de modo que $M_k = 1$ si $k$ es un elemento de Fibonnaci, y $M_k = 0$ en caso contrario.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blogv2.omegaup.com/soluciones-a-liga-omegaup-fase-1/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-04-01T18:08:10+00:00">
<meta property="article:modified_time" content="2020-04-01T18:08:10+00:00">
<meta itemprop=name content="Soluciones de la Fase 1 de la Liga de Programación omegaUp">
<meta itemprop=description content="Problema A  Para este problema, consideramos un arreglo de ocurrencias $O$ sobre los elementos del arreglo. De modo que la respuesta está dada por
$\sum\limits_{i=A}^B O_{i}$
[gist id=&ldquo;df979afcf721ba5aee429f948350e051&rdquo; file=&ldquo;A.cpp&rdquo;]
 Problema B  Si consideramos el mismo arreglo de ocurrencias $O$ sobre los elementos del arreglo, la respuesta está dada por $O_k$.
[gist id=&ldquo;2380189d0e29c2e29ab52771f353ebbe&rdquo; file=&ldquo;B.cpp&rdquo;]
 Problema C  Podemos generar todos los elementos de la secuencia de Fibonacci hasta $30000$, y guardarlos en un mapa $M$, de modo que $M_k = 1$ si $k$ es un elemento de Fibonnaci, y $M_k = 0$ en caso contrario."><meta itemprop=datePublished content="2020-04-01T18:08:10+00:00">
<meta itemprop=dateModified content="2020-04-01T18:08:10+00:00">
<meta itemprop=wordCount content="1008">
<meta itemprop=keywords content="Concursos,liga omegaup,Material de estudio,solución,soluciones,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Soluciones de la Fase 1 de la Liga de Programación omegaUp">
<meta name=twitter:description content="Problema A  Para este problema, consideramos un arreglo de ocurrencias $O$ sobre los elementos del arreglo. De modo que la respuesta está dada por
$\sum\limits_{i=A}^B O_{i}$
[gist id=&ldquo;df979afcf721ba5aee429f948350e051&rdquo; file=&ldquo;A.cpp&rdquo;]
 Problema B  Si consideramos el mismo arreglo de ocurrencias $O$ sobre los elementos del arreglo, la respuesta está dada por $O_k$.
[gist id=&ldquo;2380189d0e29c2e29ab52771f353ebbe&rdquo; file=&ldquo;B.cpp&rdquo;]
 Problema C  Podemos generar todos los elementos de la secuencia de Fibonacci hasta $30000$, y guardarlos en un mapa $M$, de modo que $M_k = 1$ si $k$ es un elemento de Fibonnaci, y $M_k = 0$ en caso contrario.">
</head>
<body class="ma0 bg-near-white">
<header class=bg-top style=background-image:url(https://blogv2.omegaup.com/images/cover.jpeg)>
<div class="pv3 bg-black-60">
<nav class="pv4 ph3 ph4-ns" role=navigation>
<div class="mw8 center">
<h1>
<a href=/ class="hover-white no-underline white-90 dib">
omegaUp blog
</a>
</h1>
<h2>Incrementando el talento de Ingeniería de Software en América Latina</h2>
<div class="flex-l justify-between items-center center">
<div class="flex-l items-center">
<div class=ananke-socials>
</div>
</div>
</div>
</div>
</nav>
</div>
</header>
<main class=pb7 role=main>
<article class="flex-l flex-wrap justify-between mw8 center ph3">
<header class="mt4 w-100">
<aside class="instapaper_ignoref b helvetica tracked">
POSTS
</aside>
<div id=sharing class="mt3 ananke-socials">
</div>
<p class="tracked p0 mb0">
<time class="f6 dib tracked" datetime=2020-04-01T18:08:10Z>April 1, 2020</time>
Por <strong>
DiegoBriaares
</strong>
</p>
<h1 class="f2 pv2 mv1">Soluciones de la Fase 1 de la Liga de Programación omegaUp</h1>
</header>
<div class="nested-copy-line-height lh-copy sans-serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><ul>
<li><strong><a href=https://omegaup.com/arena/problem/Rango-simple>Problema A</a></strong></li>
</ul>
<p>Para este problema, consideramos un arreglo de ocurrencias $O$ sobre los elementos del arreglo. De modo que la respuesta está dada por</p>
<p>$\sum\limits_{i=A}^B O_{i}$</p>
<p>[gist id=&ldquo;df979afcf721ba5aee429f948350e051&rdquo; file=&ldquo;A.cpp&rdquo;]</p>
<ul>
<li><strong><a href=https://omegaup.com/arena/problem/A-contar-lapices>Problema B</a></strong></li>
</ul>
<p>Si consideramos el mismo arreglo de ocurrencias $O$ sobre los elementos del arreglo, la respuesta está dada por $O_k$.</p>
<p>[gist id=&ldquo;2380189d0e29c2e29ab52771f353ebbe&rdquo; file=&ldquo;B.cpp&rdquo;]</p>
<ul>
<li><strong><a href=https://omegaup.com/arena/problem/nofib>Problema C</a></strong></li>
</ul>
<p>Podemos generar todos los elementos de la secuencia de Fibonacci hasta $30000$, y guardarlos en un mapa $M$, de modo que $M_k = 1$ si $k$ es un elemento de Fibonnaci, y $M_k = 0$ en caso contrario. Generamos la respuesta simplemente iterando desde $i = 4$ hasta $i = N - 1$, e imprimimos $i$ si $M_i = 0$.</p>
<p>[gist id=&ldquo;7d2a6b7afb388ceb9b22cf2f077670f5&rdquo; file=&ldquo;C.cpp&rdquo;]</p>
<ul>
<li><strong><a href=https://omegaup.com/arena/problem/Posicion-Fibonacci>Problema D</a></strong></li>
</ul>
<p>La clave para este problema, es usar variables que no provoquen un desbordamiento, por ejemplo, unsigned long long. Luego, es conocido que la serie de Fibonacci crece rápidamente, lo suficiente, como para generar la secuencia con todos sus elementos menores o iguales a $N$, guardando por cada uno su respectiva posición en ella. Por lo tanto, basta con checar si $N$ es un elemento, e imprimir su posición. En caso de no serlo, imprimimos $-1$.</p>
<p>[gist id=&ldquo;00ea7419ff9454b86d63b052d44d0337&rdquo; file=&ldquo;D.cpp&rdquo;]</p>
<ul>
<li><strong><a href=https://omegaup.com/arena/problem/estacion>Problema E</a></strong></li>
</ul>
<p>Este tipo de problema es conocido como straight-forward. Podemos guardar las estaciones de radio, y checar cuál estación es la mas cercana a la frecuencia dada, con una simple resta. En caso de haber dos estaciones con la misma distancia, la respuesta es la mayor. Solo debemos cuidar que la frecuencia esté dentro del rango permitido.</p>
<p>[gist id=&ldquo;f1fb91811095dee376d6961c65b8e017&rdquo; file=&ldquo;E.cpp&rdquo;]</p>
<ul>
<li><strong><a href=https://omegaup.com/arena/problem/Tu-y-tu-Futuro>Problema F</a></strong></li>
</ul>
<p>En este problema lo que tenemos es un grafo dirigido acíclico con aristas pesadas (intuitivamente, es un árbol, sin la propiedad de que cualquier par de nodos estan conectados por un único camino). Los vértices son los eventos temporales, las aristas son dirigidas de $p_i$ a $i$, y su peso es $d_i$. Además, cada vértice contiene un valor extra $r_i$. Un grafo que podemos asociar al primer caso de ejemplo es el siguiente.</p>
<p><img src=/images/example_graph_correct.jpg alt></p>
<p>Sean $v_1$ y $v_k$ dos vértices distintos, tales que $v_1$ es ancestro de $v_k$. Es decir, existe un camino $v_1 \rightarrow v_2 \rightarrow \ldots \rightarrow v_k$ en el grafo. Definimos $S(v_1, v_k)$ como</p>
<p>$\sum\limits_{i=1}^{k - 1} d_{v_i}$</p>
<p> </p>
<p>Es decir, la suma de los pesos en las aristas del camino. De modo que el problema se convierte en: Para cada vertice $v$, contar cuántos vértices $u$ en su &ldquo;subárbol&rdquo; $\;$ existen tales que</p>
<p>$r_u - S(v, u) \geq 0 $</p>
<p>Porque esto siginifica que tenemos suficientes segundos para viajar por el tiempo desde $u$ hasta $v$.</p>
<p>Consideremos un arreglo $E$, donde la entrada $E_v$ guarda cuántos descendientes $u$ de $v$ satisfacen</p>
<p>$r_u - S(v, u) \geq 0 $</p>
<p>Pero</p>
<p>$r_u - S(p_v, u) &lt; 0 $</p>
<p>Donde $p_v$ es el padre de $v$. Si $v = 0$, entonces no hace falta considerar a su padre, puesto que no podemos viajar por el tiempo a algún ancestro de $0$ (ya que ni siquiera existe alguno).</p>
<p>En otras palabras, $E_v$ guarda cuántos descendientes de $v$ llegan a lo mas al vértice $v$.</p>
<p>También consideremos un arreglo $D$, donde la entrada $D_v$ guarda cuántos descendientes $u$ de $v$ satisfacen</p>
<p>$ r_u - S(v, u) &lt; 0 $</p>
<p>Es decir, $D_v$ guarda cuántos descendientes de $v$ no pueden llegar al vertice $v$.</p>
<p>Y además mantengamos un arreglo $T$, donde la entrada $T_v$ guarda el tamaño del &ldquo;subárbol&rdquo; de $v$ (incluyendo a $v$). En otras palabras, cuántos descendientes tiene $v$ en total mas el mismo.</p>
<p>Por lo tanto, la respuesta final para el vértice $v$ está dada por</p>
<p>$(T_v - 1) - \sum\limits_{v \rightarrow u} (E_u + D_u)$</p>
<p>donde $u$ es un hijo directo de $v$. Ya que esto calcula cuántos descendientes de $v$ si pueden llegar a $v$.</p>
<p>Para el cálculo de nuestros arreglos, hacemos una dfs sobre el &ldquo;árbol&rdquo;  (partiendo del vertice 0). Para cada vértice $u$, hacemos una búsqueda binaria sobre un arreglo que mantenga la suma acumulada de los costos sobre las aristas que forman parte del camino de $0$ a $u$, que nos devuelva el máximo ancestro $v$ al que podemos llegar desde $u$.  Lo que nos dice que  $E_v$ actualiza su valor a $E_v + 1$ (inicialmente, $E_1 = E_2  = \ldots = E_n = 0$). Esto se puede hacer usando un arreglo global. La idea es añadir la suma acumulada, luego explorar recursivamente el subárbol de $u$, y luego quitar la suma acumulada que añadimos. Esto es particularmente sencillo si usamos un vector de la STL para el arreglo global.</p>
<p>El arreglo $T$ se calcula facilmente en la misma dfs, ya que</p>
<p>$T_v = 1 + \sum\limits_{v \rightarrow u} (T_u)$</p>
<p>Ahora podemos generar $D$, al estilo de programacion dinámica usando $E$. Notemos que</p>
<p>$D_v = \sum\limits_{v \rightarrow u} (E_ u + D_u)$</p>
<p>Lo que se puede hacer en la misma DFS.</p>
<p>Por lo tanto, nuestro algoritmo tiene complejidad $O(Nlog(N))$.</p>
<p>[gist id=&ldquo;230bf4f852d80fba75be9f2c322124b4&rdquo; file=&ldquo;F.cpp&rdquo;]</p>
<ul>
<li><strong><a href=https://omegaup.com/arena/problem/Karel-y-los-quebrados>Problema G</a></strong></li>
</ul>
<p>Primero reescribamos la expresión dada como</p>
<p>$k = \dfrac{xy}{x + y}$</p>
<p>De donde podemos despejar $y$ como</p>
<p>$y = \dfrac{xk}{x - k}$</p>
<p>Sin perdida de generalidad, supongamos $x \leq y$, entonces se tiene</p>
<p>$x \leq \dfrac{xk}{x - k}$</p>
<p>$x^2 \leq 2xk$</p>
<p>$x \leq 2k$</p>
<p>Por lo tanto, podemos iterar $x$ desde $1$ hasta $2k$, obtenemos $y$, y verificamos que $k = \dfrac{xy}{x + y}, y > 0$.</p>
<p>Guardamos las parejas que satisfazcan dichas condiciones y las imprimimos en el orden requerido, cuidando no repetir alguna respuesta.</p>
<p>Lo que nos deja con un algoritmo de complejidad $O(k)$.</p>
<p>Una solución alternativa es la siguiente:</p>
<p>Te puedes dar cuenta que $x, y > k$, entonces el problema se convierte a  buscar $a$ y $b$ que cumplan</p>
<p>$\dfrac{1}{k} = \dfrac{1}{k + a} + \dfrac{1}{k + b}$</p>
<p>con $a,b > 0$. Si simplificas la igualdad llegas a que $k^2 = ab$, así que todo se reduce a encontrar las parejas de divisores $a, b$ de $k^2$.  Lo que deja también un algoritmo de complejidad $O(k)$.</p>
<p>Nota: Agradezco a José Tapia y a Carlos Galeana por su colaboración en el problema $G$.</p>
<p>[gist id=&ldquo;1bf8bac6ba8c1040befc7b4b64900ac2&rdquo; file=&ldquo;G.cpp&rdquo;]</p>
<ul class=pa0>
<li class=list>
<a href=/tags/concursos class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Concursos</a>
</li>
<li class=list>
<a href=/tags/liga-omegaup class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">liga omegaup</a>
</li>
<li class=list>
<a href=/tags/material-de-estudio class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Material de estudio</a>
</li>
<li class=list>
<a href=/tags/soluci%C3%B3n class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">solución</a>
</li>
<li class=list>
<a href=/tags/soluciones class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">soluciones</a>
</li>
</ul>
<div class="mt6 instapaper_ignoref">
</div>
</div>
<aside class="w-30-l mt6-l">
<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
<p class="f5 b mb3">Related</p>
<ul class="pa0 list">
<li class=mb2>
<a href=/solucion-a-los-callejones-de-guanajuato/>Solución a "Los Callejones de Guanajuato"</a>
</li>
<li class=mb2>
<a href=/solucion-a-splatoon/>Solución a "Splatoon"</a>
</li>
<li class=mb2>
<a href=/chocolates/>Solución a "Los Chocolates del Agente Nieves"</a>
</li>
<li class=mb2>
<a href=/solucion-a-temblor/>Solución a "Temblor"</a>
</li>
<li class=mb2>
<a href=/el-camino-de-mexico-rumbo-a-la-ioi-2015/>El camino de México rumbo a la IOI 2015</a>
</li>
<li class=mb2>
<a href=/solucion-a-poema-equino/>Solución a "Poema Equino"</a>
</li>
<li class=mb2>
<a href=/trucos-cool/>Trucos para ser más cool</a>
</li>
<li class=mb2>
<a href=/el-camino-rumbo-a-la-ioi-2014/>El camino rumbo a la IOI 2014</a>
</li>
<li class=mb2>
<a href=/se-realiza-la-1era-competencia-peruana-de-informatica-para-pre-universitarios/>Se realiza la 1era Competencia Peruana de Informática Online en omegaUp</a>
</li>
<li class=mb2>
<a href=/invasion-zombie/>Invasion Zombie</a>
</li>
<li class=mb2>
<a href=/ioi-2015-entrevista-con-blak_dragon1/>IOI 2015 - Entrevista con blak_dragon1</a>
</li>
<li class=mb2>
<a href=/ioi-2015-entrevista-con-emmanuel_antonio/>IOI 2015 - Entrevista con Emmanuel_Antonio</a>
</li>
<li class=mb2>
<a href=/ioi-2015-entrevista-con-charlyhlms/>IOI 2015 - Entrevista con charlyhlms</a>
</li>
<li class=mb2>
<a href=/ioi-2015-entrevista-con-juan_carlos_sigler_priego-mex/>IOI 2015 - Entrevista con Juan_Carlos_Sigler_Priego (MEX)</a>
</li>
<li class=mb2>
<a href=/solucion-a-contrasena-binaria/>Solución a "Contraseña Binaria"</a>
</li>
</ul>
</div>
</aside>
</article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://blogv2.omegaup.com/>
&copy; omegaUp blog 2022
</a>
<div>
<div class=ananke-socials>
</div></div>
</div>
</footer>
<script type=text/javascript src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['$latex', '$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\[','\]']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      ignoreClass: 'gist',
      TeX: {
        equationNumbers: { autoNumber: "AMS" },
        extensions: ["AMSmath.js", "AMSsymbols.js"],
      },
   },
 });
</script>
</body>
</html>